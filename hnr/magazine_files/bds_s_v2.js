var bdShare=bdShare||{version:1};(function(){var e=(new Date).getTime(),t=(new Date).getTime(),n=(new Date).getTime(),r=window,i=document,s=i.body,o=i.documentElement,u={},a="",f=i.title,l=[],c="",h={},p=i.getElementById("bdshare_js").attributes.data,d=/MSIE 6.0/.test(navigator.userAgent),v=i.compatMode!="CSS1Compat",p=p.nodeValue.replace(/&amp;/g,"&").split("&")||"";try{var m=r.location||i.location;u.href=m.href,u.search=m.search,u.hash=m.hash,u.protocol=m.protocol,u.hostname=m.hostname,u.pathname=m.pathname,a=encodeURIComponent(u.href)}catch(g){setTimeout(function(){var e=r.location||i.location;u.href=e.href,u.search=e.search,u.hash=e.hash,u.protocol=e.protocol,u.hostname=e.hostname,u.pathname=e.pathname,a=encodeURIComponent(u.href)},0)}for(var y=p.length;y--;){var b=p[y].split("=");l[b[0]]=b[1]}var w={bdPref:"bds_",bdNums:l.mini?7:15,bdMini:l.mini||!1,bdType:l.type||"",bdLeft:l.pos||"right",bdTitle:"\u5206\u4eab\u5230",bdText:f,weiboText:"",bdMore:"\u66f4\u591a...",bdPopTitle:"\u5206\u4eab\u5230",bdImg:l.img||0,bdImgW:24,bdTop:0,bdIds:"bdshare",bdIdsl:l.mini?"bdshare_m":"bdshare_l",bdUid:l.uid||"",bdPic:"",searchPic:l.searchPic||0,bdComment:"",bdDesc:"",wbUid:"",tongji:"on",review:"on",render:!0,snsKey:{},bdHost:"http://bdimg.share.baidu.com/static/",bdJump:"http://share.baidu.com/",bdApi:"http://api.share.baidu.com/",bdStatistics:"http://share.baidu.com/commit",bdCommit:"http://s.share.baidu.com/",bdMshare:"http://s.share.baidu.com/mshare",bdCout:"http://nsclick.baidu.com/v.gif?pid=307",bdWList:"([http|https]://[a-zA-Z0-9_.]+.baidu.com)",bdList:["mshare,\u4e00\u952e\u5206\u4eab,mshare","qzone,QQ\u7a7a\u95f4,qqkj","tsina,\u65b0\u6d6a\u5fae\u535a,xlwb","baidu,\u767e\u5ea6\u641c\u85cf,bdsc","renren,\u4eba\u4eba\u7f51,rrw","tqq,\u817e\u8baf\u5fae\u535a,txwb","bdxc,\u767e\u5ea6\u76f8\u518c,bdxc","kaixin001,\u5f00\u5fc3\u7f51,kxw","tqf,\u817e\u8baf\u670b\u53cb,txpy","tieba,\u767e\u5ea6\u8d34\u5427,bdtb","douban,\u8c46\u74e3\u7f51,db","tsohu,\u641c\u72d0\u5fae\u535a,shwb","bdhome,\u767e\u5ea6\u65b0\u9996\u9875,bdhome","sqq,QQ\u597d\u53cb,sqq","thx,\u548c\u8baf\u5fae\u535a,thx","qq,QQ\u6536\u85cf,qqsc","taobao,\u6211\u7684\u6dd8\u5b9d,tjh","hi,\u767e\u5ea6\u7a7a\u95f4,bdkj","bdysc,\u767e\u5ea6\u4e91\u6536\u85cf,bdysc","msn,MSN,msn","sohu,\u641c\u72d0\u767d\u793e\u4f1a,shbsh","t163,\u7f51\u6613\u5fae\u535a,wywb","qy,\u5947\u827a\u5947\u8c08,qyqt","meilishuo,\u7f8e\u4e3d\u8bf4,mls","mogujie,\u8611\u83c7\u8857,mgj","diandian,\u70b9\u70b9\u7f51,diandian","huaban,\u82b1\u74e3,huaban","leho,\u7231\u4e50\u6d3b,leho","share189,\u624b\u673a\u5feb\u4f20,share189","duitang,\u5806\u7cd6,duitang","hx,\u548c\u8baf,hexun","tfh,\u51e4\u51f0\u5fae\u535a,fhwb","fx,\u98de\u4fe1,feixin","youdao,\u6709\u9053\u4e91\u7b14\u8bb0,youdao","sdo,\u9ea6\u5e93\u8bb0\u4e8b,sdo","qingbiji,\u8f7b\u7b14\u8bb0,qingbiji","ifeng,\u51e4\u51f0\u5feb\u535a,ifeng","people,\u4eba\u6c11\u5fae\u535a,people","xinhua,\u65b0\u534e\u5fae\u535a,xinhua","ff,\u996d\u5426,fanfou","mail,\u90ae\u4ef6\u5206\u4eab,mail","kanshou,\u641c\u72d0\u968f\u8eab\u770b,kanshou","isohu,\u6211\u7684\u641c\u72d0,isohu","yaolan,\u6447\u7bee\u7a7a\u95f4,yaolan","wealink,\u82e5\u90bb\u7f51,wealink","tuita,\u63a8\u4ed6,tuita","xg,\u9c9c\u679c,xianguo","ty,\u5929\u6daf\u793e\u533a,tianya","fbook,Facebook,facebook","twi,Twitter,twitter","ms,Myspace,myspace","deli,delicious,delicious","s51,51\u6e38\u620f\u793e\u533a,51shequ","s139,139\u8bf4\u5ba2,shuoke","linkedin,linkedin,LinkedIn","copy,\u590d\u5236\u7f51\u5740,kaobei","print,\u6253\u5370,print"]}||{},E={_parseJson:function(e){function r(e){if(e.indexOf("{")==0)return E._parseJson(e);var t=e.split("."),n=window;for(var r=0,i=t.length;r<i;r++){var s=t[r];if(!(typeof n=="object"&&s in n))return e;n=n[s]}return n}if(typeof e!="string")return e;e=e.replace(/^\s*{|}\s*$/g,"");var t=e.split(","),n={};for(var i=0,s=t.length;i<s;i++){var o=t[i],u=o.indexOf(":");if(u){var a=o.substring(0,u).replace(/^\s*[\'\"]?|[\"\']?\s*$/g,""),f=o.substring(u+1).replace(/^\s*/g,""),l=f.charAt(0);if(l=="'"||l=='"'){do{var c=f.replace(/\s*$/g,"");if(c.substring(c.length-1)==l)break;f=f+","+t[++i]}while(i<t.length-1);f=f.replace(/^\s*[\'\"]?|[\"\']?\s*$/g,"")}else if(l=="{"){do{var c=f.replace(/\s*$/g,"");if(c.substring(c.length-1)=="}")break;f=f+","+t[++i]}while(i<t.length-1);f=r(f)}else/^[0-9]*$/.test(f)?f=f.replace(/^\s*[\'\"]?|[\"\']?\s*$/g,""):f=r(f);n[a]=f}}return n},_createScriptTag:function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},_removeScriptTag:function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&"parentNode"!=t&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},callByBrowser:function(e,t,n){var r=document.createElement("SCRIPT"),i=0,s=n||{},o=s.charset,u=t||function(){},a=s.timeOut||0,f;r.onload=r.onreadystatechange=function(){if(i)return;var e=r.readyState;if("undefined"==typeof e||e=="loaded"||e=="complete"){i=1;try{u(),clearTimeout(f)}finally{r.onload=r.onreadystatechange=null,E._removeScriptTag(r)}}},a&&(f=setTimeout(function(){r.onload=r.onreadystatechange=null,E._removeScriptTag(r),s.onfailure&&s.onfailure()},a)),E._createScriptTag(r,e,o)},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},unon:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},html:function(e,t){var n=i.createElement(t||"div");for(var r in e)r=="style"?n[r].cssText=e[r]:n[r]=e[r];if(t!="link")return s.insertBefore(n,t=="iframe"?s.firstChild:c.nextSibling);i.getElementsByTagName("head")[0].appendChild(n)},list:function(e){var t=w.bdPref,n=e.split(","),r=n[1],i="#",s=t+n[0]+" "+n[2];return{name:r,url:i,cls:s}},list_s:function(e){var t=[],n=inner="",r=w,i=r.bdList,s=r.bdNums,o=r.bdNums<i.length?'<li><a href="#" class="bds_more">'+r.bdMore+"</a></li>":"";while(s--)n=E.list(i[s]),t.push('<a href="'+n.url+'" class="'+n.cls+'">'+n.name+"</a>");inner='<iframe id="bdsIfr" style="position:absolute;display:none;z-index:9999;" frameborder="0"></iframe>',inner+='<div id="'+r.bdIdsl+'"><div id="'+r.bdIdsl+'_c"><h6>'+r.bdTitle+"</h6>",inner+="<ul><li>"+t.reverse().join("</li><li>")+"</li>"+o+'</ul><p><a href="#" class="goWebsite">\u767e\u5ea6\u5206\u4eab</a></p></div></div>';if(!e)return inner;var u=E.html({id:"bdshare_s",innerHTML:inner,style:"display:none"});u.style.display="block";var a=E.children(u);u=a[a.length-1],E.on(u,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=E.getPosition(t),r=e.relatedTarget||e.fromElement,i=E.getMousePos(e),s=i.x-n.l,o=i.y-n.t;t.buttontype=1,t.x=s,t.y=o;if(E.contains(u,r))return;u.time=+(new Date)})},scroll:function(e,t){E.on(r,"scroll",function(n){var r=E.getSize(),s=w,o=s.bdTop;s.bdType=="slide"&&(d||v?(E.setAttr(i.getElementById(s.bdIdsl),"display:block"),_bdS.style.top=r.t+(o==0?r.h/2-(i.getElementById(s.bdIdsl).offsetHeight-11)/2:parseInt(o))+"px"):s.bdTop!=0&&(_bdS.style.top=parseInt(s.bdTop)+"px")),t=="pop"&&(d||v)&&(e.style.top=r.t+r.h/2-e.offsetHeight/2+"px",E.setAttr(c,"top:"+e.style.top))})},getSize:function(){return{t:s.scrollTop||o.scrollTop,l:s.scrollLeft||o.scrollLeft,w:o.clientWidth||s.clientWidth,h:r.innerHeight||o.clientHeight||s.clientHeight}},getPosition:function(e){var t=E.getSize(),n=e,r={t:0,l:0},o=/gecko/.test(navigator.userAgent),u=function(e,t){r.t+=e,r.l+=t};if(n&&n!=s)if(n.getBoundingClientRect){var a=n.getBoundingClientRect(),f=e.ownerDocument,l=f.body,c=f.documentElement,h=c.clientTop||l.clientTop||0,p=c.clientLeft||l.clientLeft||0;if(a.top==a.bottom){var d=n.style.display;n.style.display="block",n.style.display=d}u(a.top+t.t-h,a.left+t.l-p)}else{var v=i.defaultView;while(n){u(n.offsetTop,n.offsetLeft);var m=v.getComputedStyle(n,null);if(o){var g=parseInt(m.getPropertyValue("border-left-width"),10)||0,y=parseInt(m.getPropertyValue("border-top-width"),10)||0;u(y,g),n!=e&&m.getPropertyValue("overflow")!="visible"&&u(y,g)}n=n.offsetParent}n=e.parentNode;while(n&&n!=s)u(-n.scrollTop,-n.scrollLeft),n=n.parentNode}return r},setAttr:function(e,t){var n=t.split(";"),r=n.length;while(r--)if(n[r]){var i=n[r].split(":");i&&(e.style[i[0]]=i[1])}},children:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==1&&t.push(n);return t},generateRandom:function(e,t){var n=e.length,r="";for(var i=1;i<=t;i++){var s=Math.floor(n*Math.random());r+=e.charAt(s)}return r},generateLinkid:function(){var e=(+(new Date)).toString(36),t=E.generateRandom("0123456789abcdefghijklmnopqrstuvwxyz",3);return e+t},contains:function(e,t){if(!t||!e)return!1;if(e==t)return!0;var n=t.parentNode;while(n!=null&&typeof n.tagName!="undefind"){if(n==e)return!0;n=n.parentNode}return!1},getMousePos:function(e){if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};if(document.documentElement&&document.documentElement.scrollTop)return{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop};if(document.body)return{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}},_isCookieValidKey:function(e){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$')).test(e)},getCookieRaw:function(e){if(E._isCookieValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n)return n[2]||null}return null},setCookieRaw:function(e,t,n){if(!E._isCookieValidKey(e))return;n=n||{};var r=n.expires;"number"==typeof n.expires&&(r=new Date,r.setTime(r.getTime()+n.expires)),document.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")},getCookie:function(e){var t=E.getCookieRaw(e);return"string"==typeof t?(t=decodeURIComponent(t),t):null},setCookie:function(e,t,n){E.setCookieRaw(e,encodeURIComponent(t),n)},log:function(){var e=[];return function(t){var n="bdsharelog__"+(new Date).getTime(),r=e[n]=new Image;r.onload=r.onerror=function(){e[n]=null},r.src=t,r=null}}()},S=function(e){var t=i.createElement("link");bdShare.velocity=bdShare.velocity||{},bdShare.velocity.cssLoadStart=+(new Date),t.onload=function(){bdShare.velocity.cssLoadEnd=+(new Date)},t.href=w.bdHost+"css/bdsstyle.css?cdnversion=20131113",t.rel="stylesheet",t.type="text/css",i.getElementsByTagName("head")[0].appendChild(t),c=c||E.html({style:"display:none;"+(e||""),frameBorder:0},"iframe")},x=function(e,t,n,r){var s=/(#\d+\-[a-zA-Z\d]+\-\d+\-\d+\-[a-f\d]{32}$)/g,o=(u.search+u.hash).replace(/&/g,"#"),a=o.match(s)||"",l=new RegExp(w.bdWList,"ig"),c=u.protocol+"//"+u.hostname+u.pathname+u.search;if(l.test(u.href)&&a==""&&typeof e=="undefined")return;var h=[];bdShare.fn.b.length>0&&h.push("button"),bdShare.fn.t.length>0&&h.push("tools"),bdShare.fn.conf.bdType&&h.push(bdShare.fn.conf.bdType);var p=function(){for(var e=0,t=h.length,n={},r=[];e<t;e++)!(h[e]in n)&&r.push(h[e])&&(n[h[e]]="");return r.join(",")}();if(w.tongji=="on"||a!=""||typeof e!="undefined"){a!=""&&e!="3072"&&(a=a.toString().replace("#",""),(new Image).src=w.bdCommit+"back?url="+encodeURIComponent(c)+"&sign="+encodeURIComponent(a)+"&title="+encodeURIComponent(f.substr(0,300))),bdShare.velocity=bdShare.velocity||{},bdShare.velocity.mainJsLoaded=+(new Date);if(typeof e!="undefined")(new Image).src=w.bdCout+"&type="+e+"&sign="+a+"&uid="+w.bdUid+"&desturl="+encodeURIComponent(i.referrer)+"&linkid="+C+"&button="+p;else{var d=[0,0,0,0];for(var v=0,m=h.length;v<m;v++)d[{tools:0,button:1,slide:2}[h[v]]]=1;bdShare._LogPool=bdShare._LogPool||[],bdShare._LogPool.push({key:"cite",api:{uid:w.bdUid||"",linkid:C,type:parseInt(d.reverse().join(""),2),mini:w.bdMini?1:0}})}}},T={create:function(){var e=w,t=e.bdList,n=t.length,s=[],o="",u=E.getSize(),a=i.getElementById(e.bdIds+"_pop"),f=d||v?"absolute":"fixed",l=d||v?u.t:0;if(!a){while(n--)o=E.list(t[n]),s.push('<a href="'+o.url+'" class="'+o.cls+'">'+o.name+"</a>");var p=E.html({id:e.bdIds+"_pop",style:"position:"+f,innerHTML:"<div><h5></h5><ul><li>"+s.reverse().join("</li><li>")+'</li></ul><p><a href="#" class="goWebsite">\u767e\u5ea6\u5206\u4eab</a></p></div>'});N.bind(p,"mouseover","a"),N.bind(p,"click","b",function(){p.style.display="none",c.style.display="none"}),E.on(p,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=E.getPosition(t),r=E.getMousePos(e),i=r.x-n.l,s=r.y-n.t;t.buttontype=2,t.x=i,t.y=s;var o=e.relatedTarget||e.fromElement;if(E.contains(p,o))return;p.time=+(new Date)})}var m=p||a;m.getElementsByTagName("h5")[0].innerHTML=(h.title||e.bdPopTitle)+"<b>&nbsp;</b>",E.setAttr(m,"display:block;"),E.setAttr(m,"left:"+(u.w/2-m.offsetWidth/2)+"px;top:"+(l+u.h/2-m.offsetHeight/2)+"px"),E.setAttr(c,"position:"+f+";display:block;z-index:10000;width:"+m.offsetWidth+"px;height:"+m.offsetHeight+"px;left:"+m.style.left+";top:"+m.style.top),E.scroll(m,"pop"),E.on(r,"resize",function(e){var t=E.getSize(),n="left:"+(t.w/2-m.offsetWidth/2)+"px;top:"+(l+t.h/2-m.offsetHeight/2)+"px";E.setAttr(m,n),E.setAttr(c,n)}),e.bdType!="slide"&&(i.getElementById(w.bdIdsl).style.display="none",i.getElementById("bdsIfr").style.display="none"),window.bdShareActivity&&bdShareActivity.check()}},N={bind:function(e,t,n,i){var s=this;e.addEventListener?e.addEventListener(t,function(t){return s._action(t,t.target,n,e,i)},!1):e.attachEvent("on"+t,function(t){return t=r.event,s._action(t,t.srcElement,n,e,i)})},_action:function(e,t,n,r,i){if(t.nodeName==n.toUpperCase()){if(n=="a"||n=="span"){var s=t.className,o=s=="goWebsite"?s:s.split(" ")[0].split("_")[1],u=this;return o&&(o=="more"&&n=="span"?u._tools():t.onclick=function(e,n){return function(r){var r=r||window.event,i=r.target||r.srcElement,s=E.getPosition(i),o=E.getMousePos(r),a=o.x-s.l,f=o.y-s.t;return e=="more"?u._tools():e=="copy"?u._copy(u):e=="print"?u._print():u._jump(e,n,t,a,f),!1}}(o,r)),!1}typeof i=="function"&&i()}typeof e.preventDefault=="function"?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)},_tools:function(){x(3072),T.create()},_copy:function(e){_this=e;var t=new _this._browsers;t.name=="IE"?(window.clipboardData.setData("text",document.title+" "+u.href),alert("\u6807\u9898\u548c\u94fe\u63a5\u590d\u5236\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u63a8\u8350\u7ed9QQ/MSN\u4e0a\u7684\u597d\u53cb\u4e86\uff01")):window.prompt("\u60a8\u4f7f\u7528\u7684\u662f\u975eIE\u6838\u5fc3\u6d4f\u89c8\u5668\uff0c\u8bf7\u6309\u4e0b Ctrl+C \u590d\u5236\u4ee3\u7801\u5230\u526a\u8d34\u677f",document.title+" "+u.href)},_mail:function(e){},_print:function(){var e=document.getElementById("bdshare_pop");e&&(e.style.display="none"),window.print(),e&&(e.style.display="block");return},_jump:function(i,s,o,u,f){var l=w,c=l.bdPic,p=l.bdText,d=l.weiboText,v=l.wbUid,m=a,g=l.bdDesc,y=l.bdComment,b=l.bdMiniWindow||0;h=s.getAttribute("data")&&s.getAttribute("data")!=""?E._parseJson(s.getAttribute("data")):h,h!=""?(c=encodeURIComponent(h.pic||"")||c,m=encodeURIComponent(h.url||"")||m,y=encodeURIComponent(h.comment||"")||y,g=encodeURIComponent(h.desc||"")||g,v=h.wbuid||v,i=="tsina"?h.text&&h.weibotext?p=encodeURIComponent((h.text+h.weibotext).substr(0,300)):h.weibotext?p=encodeURIComponent((p+h.weibotext).substr(0,300)):h.text?p=encodeURIComponent((h.text+d).substr(0,300)):p=encodeURIComponent((p+d).substr(0,300)):p=encodeURIComponent((h.text||"").substr(0,300))||encodeURIComponent(p.substr(0,300))):i=="tsina"?p=encodeURIComponent((p+d).substr(0,300)):p=encodeURIComponent(p.substr(0,300)),p=encodeURIComponent(p),n=(new Date).getTime()+3e3;var S=e.toString(32)+t.toString(32)+n.toString(32),x=o.buttontype,T=Math.floor(bdShare.XY.loadedX),N=Math.floor(bdShare.XY.loadedY),L=x>0?1:0,A=Math.floor(o.x),O=Math.floor(o.y),M=Math.floor(u),_=Math.floor(f),D=Math.floor(o.offsetWidth),P=Math.floor(o.offsetHeight),H=document.body.offsetWidth,B=document.body.offsetHeight,j=window.screen.availWidth,F=window.screen.availHeight,I=x,q=+(new Date);q-=s.time;var R=[T,N,L,A,O,M,_,D,P,I,q,H,B,j,F].join("."),z;switch(w.bdType){case"button":z=1;break;case"slide":z=2;break;default:z=0}var X=i=="mail"?"_mail":i,V="?click=1&url="+m+"&uid="+l.bdUid+"&to="+X+"&type=text&relateUid="+v+"&pic="+c+"&title="+p+"&key="+(l.snsKey[i]||"")+"&sign="+l.review+"&desc="+g+"&comment="+y+"&searchPic="+l.searchPic+"&l="+S+"&linkid="+C+"&sloc="+R+"&apiType=0&buttonType="+z+"&firstime="+E.getCookie("bdshare_firstime");if(i=="mshare")var $=l.bdMshare+V;else var $=l.bdCommit+V;var J=l.bdCommit+"commit"+V+"&t="+Math.random();if(i!="goWebsite"){bdShare.fn._getSc("share");var K=function(){var e=[];return function(t){var n=e.push(new Image)-1;e[n].onload=function(){e[n]=e[n].onload=null},e[n].src=t}}();setTimeout(function(){K(J)},1500);if(i=="bdxc"){var Q=window,$=document,G="_bdXC",Y;Q[G]?window._bdXC_loaded&&Q[G].reInit():(Y=$.createElement("script"),Y.setAttribute("charset","utf-8"),Y.src="http://xiangce.baidu.com/zt/collect/mark.js?"+(new Date).getTime(),$.getElementsByTagName("head")[0].appendChild(Y))}else if(i=="bdysc"){var Z={url:m,title:p};if(window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck)window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck.go(Z);else{window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck={callback:function(){this.go(Z)}};var et=document.createElement("script");et.src="http://s.wenzhang.baidu.com/js/pjt/content_ex/page/bookmark.js?_t="+Math.random(),document.getElementsByTagName("body")[0].appendChild(et)}}else if(i=="mail"){var tt=w.bdCommit+"sendmail";window.open(tt+V,"_blank")}else 1==b?r.open($,"bdShare","toolbar=0, scrollbars=1, status=0, resizable=1, height=400, width=600"):r.open($)}else r.open(l.bdJump)},_browsers:function(){var e={},t=navigator.userAgent.toLowerCase(),n,r;return t.match(/msie ([\d.]+)/)?(r=t.match(/msie ([\d.]+)/),e.name="IE",e.version=r[1]):t.match(/firefox\/([\d.]+)/)?(r=t.match(/firefox\/([\d.]+)/),e.name="firefox",e.version=r[1]):t.match(/chrome\/([\d.]+)/)?(r=t.match(/chrome\/([\d.]+)/),e.name="chrome",e.version=r[1]):t.match(/opera.([\d.]+)/)?(r=t.match(/opera.([\d.]+)/),e.name="opera",e.version=r[1]):t.match(/safari.([\d.]+)/)?(r=t.match(/safari.([\d.]+)/),e.name="safari",e.version=r[1]):(e.name="\u672a\u77e5\u7684\u6d4f\u89c8\u5668",e.version="\u672a\u77e5\u7684\u7248\u672c\u53f7"),e}},C=E.generateLinkid();bdShare.fn=function(){return{init:function(){function u(e){var e=e||window.event,t=E.getMousePos(e);bdShare.XY.loadedX=t.x,bdShare.XY.loadedY=t.y,bdShare.XY.loadedX>0&&bdShare.XY.loadedY>0&&E.unon(document,"mousemove",u)}t=(new Date).getTime()+1e3,this.b=[],this.t=[],this.s=[],this.type="load",this._getShare();var e=this;if(typeof bds_config!="undefined")for(var n in bds_config)if(n=="bdPopTitle"||n=="bdText"||n=="weiboText"||n=="bdPic"||n=="wbUid"||n=="tongji"||n=="render"||n=="snsKey"||n=="review"||n=="bdComment"||n=="bdDesc"||n=="bdTop"||n=="searchPic"||n=="bdUrl"||n=="bdMiniWindow")n=="snsKey"?w[n]=E._parseJson(bds_config[n]):w[n]=n=="render"||n=="bdPopTitle"||n=="bdText"||n=="weiboText"?bds_config[n]:encodeURIComponent(bds_config[n]);this.conf=w,this.imgW=w.bdImgW,this.conf.render&&((this.b.length>0||this.t.length>0)&&this._share(),this.conf.bdType=="slide"&&this._slide()),this._getSc(this.type);var r=this.t;for(var i=0;i<r.length;i++){var s=r[i].getElementsByTagName("a");for(var o=0;o<s.length;o++)!s[o].getAttribute("href")&&s[o].setAttribute("href","#")}bdShare.XY=bdShare.XY||{},E.on(document,"mousemove",u);for(var i=0,a=this.t.length;i<a;i++)(function(t){var n=t;E.on(e.t[t],"mouseover",function(t){var t=t||window.event,r=t.target||t.srcElement,i=E.getPosition(r),s=E.getMousePos(t),o=s.x-i.l,u=s.y-i.t;r.buttontype=0,r.x=o,r.y=u;var a=t.relatedTarget||t.fromElement;if(E.contains(e.t[n],a))return;e.t[n].time=+(new Date)})})(i);x(),E.getCookie("bdshare_firstime")==null&&E.setCookie("bdshare_firstime",new Date*1,{path:"/",expires:(new Date).setFullYear(2022)-new Date})},_getSc:function(e){this.type=e;var t=i.querySelectorAll?i.querySelectorAll(".shareCount"):i.getElementsByTagName("*"),n=t.length;while(n--)/\sshareCount|shareCount\s|shareCount$/.test(t[n].className)&&this.s.push(t[n]);this.s.length>0&&E.callByBrowser(this.conf.bdApi+"getnum?url="+a+"&callback=bdShare.fn._getShare&type="+e+"&t="+(new Date).getTime())},_getShare:function(e){var t=e?!0:!1,n=[];if(i.querySelectorAll)this.b=i.querySelectorAll(".bdshare_b"),this.t=i.querySelectorAll(".bdshare_t");else{var r=i.getElementsByTagName("*"),s=r.length;while(s--){var o=r[s];/\sbdshare_t|bdshare_t\s/.test(o.className)&&this.t.push(o),/\sbdshare_b|bdshare_b\s|bdshare_b$/.test(o.className)&&this.b.push(o)}}if(t){var n=this.s,u=n.length,a;while(u--)/\sshareCount|shareCount\s|shareCount$/.test(n[u].className)&&(a=this.type=="share"?e.num[0]<1e4?parseInt(n[u].innerHTML)+1:e.num[1]:e.errno*1==0?e.num[1]:0,n[u].innerHTML=decodeURI(a),n[u].setAttribute("title","\u7d2f\u8ba1\u5206\u4eab"+e.num[0]+"\u6b21"),n[u].onclick=function(){T.create()});this.s=[]}},_share:function(){E.list_s(!0);var e=this.b,t=this.t,n=e.length,r=t.length,s=i.getElementById(this.conf.bdIdsl),o=i.getElementById("bdsIfr"),u=this.conf.bdList,a=u.length;E.setAttr(s,"display:none;"),N.bind(s,"mouseover","a");if(n>0)while(n--)e[n].id=="bdshare"&&(N.bind(e[n],"click","img",function(){T.create()}),N.bind(e[n],"mouseover","a",function(){T.create()}),this._s(e[n],s,o,e[n],"b"));if(r>0)while(r--)if(t[r].id=="bdshare"){N.bind(t[r],"click","span",function(){T.create()}),N.bind(t[r],"mouseover","a");var f=E.children(t[r]),l=f.length,c="";while(l--){var h=f[l];if(/bds_more/.test(h.className))c=f[l],v&&(c.style.height=(/bds_tools_32/.test(t[r].className)?38:17)+"px"),this._s(c==""?t[r]:c,s,o,t[r],c);else for(var p=0;p<a;p++)if(u[p]){var d=u[p].split(","),m=new RegExp(this.conf.bdPref+d[0]+"$","ig");if(u[p]){var d=u[p].split(","),m=new RegExp(this.conf.bdPref+d[0]+"$","ig");m.test(h.className)&&(d[1]=="\u62f7\u8d1d"?h.title="\u590d\u5236\u7f51\u5740":h.title||(h.title="\u5206\u4eab\u5230"+d[1]))}}}}},_s:function(e,t,n,r,i){var s=this,o=[],u,a=i==""?"none":"block";this._popShow(e,{over:function(i){o=E.getPosition(e),h=r.getAttribute("data")&&r.getAttribute("data")!=""?E._parseJson(r.getAttribute("data")):"",E.setAttr(t,"display:"+a),E.setAttr(t,"left:"+(E.getSize().w-i.clientX<t.offsetWidth?o.l-t.offsetWidth+e.offsetWidth:o.l)+"px"),E.setAttr(t,"top:"+(E.getSize().h-i.clientY<t.offsetHeight?o.t-t.offsetHeight:o.t+e.offsetHeight)+"px"),E.setAttr(n,"display:"+a+";width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+t.style.left+";top:"+t.style.top)},out:function(e){u=setTimeout(function(){t.style.display="none",n.style.display="none"},100),s._popShow(t,{over:function(){clearTimeout(u),t.style.display="block",n.style.display="block"},out:function(){t.style.display="none",n.style.display="none"}})}})},_slide:function(){function p(){E.setAttr(f,"display:block;");if(f.offsetWidth+o.imgW==u.offsetWidth)return;tm=setTimeout(function(){f.offsetWidth+o.imgW!=u.offsetWidth&&o._move(u,0,o.imgW,f.offsetWidth,l)},100),o._popShow(f,{over:function(){E.setAttr(l,"height:"+f.offsetHeight+"px;"+o.conf.bdLeft+":0;top:0;display:block")},out:function(){}}),o._popShow(u,{over:function(){},out:function(){u.offsetWidth==f.offsetWidth+o.imgW&&(clearTimeout(tm),o._move(u,0,f.offsetWidth+o.imgW,-f.offsetWidth,l)),l.style.display="none"}})}if(!r._bdS){var e=this.conf.bdLeft=="right"?"left":"right",t=this.conf.bdHost+"images/"+this.conf.bdLeft.substring(0,1)+this.conf.bdImg+".gif";r._bdS=E.html({id:this.conf.bdIds,innerHTML:'<img src="'+t+'" alt="" style="float:'+e+';margin-top:58px;"/>'+E.list_s(!1)});var n=E.children(_bdS),s=n[n.length-1];E.on(s,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=E.getPosition(t),r=e.relatedTarget||e.fromElement,i=E.getMousePos(e),o=i.x-n.l,u=i.y-n.t;t.buttontype=1,t.x=o,t.y=u;if(E.contains(s,r))return;s.time=+(new Date)})}var o=this,u=_bdS,a=E.getSize(),f=i.getElementById(this.conf.bdIdsl),l=i.getElementById("bdsIfr"),c=!d&&!v?"fixed":"absolute",h=(d?a.t:0)+(this.conf.bdTop==0?a.h<f.offsetHeight?-40:a.h/2-f.offsetHeight/2:parseInt(this.conf.bdTop));E.setAttr(u,"overflow:hidden;height:330px;position:"+c+";top:"+h+"px;"+this.conf.bdLeft+":0;"+(e=="right"?e+":"+(a.w-this.imgW)+"px":"")),E.setAttr(f,e+":"+this.imgW+"px;display:none"),N.bind(u,"click","img",function(){x(3072),T.create()}),N.bind(u,"mouseover","img",p),N.bind(f,"mouseover","a"),E.scroll(u,"slide"),E.on(r,"resize",function(){E.setAttr(u,e=="right"?e+":"+(E.getSize().w-o.imgW)+"px":"")})},_move:function(e,t,n,r,i){var s=e.style,o=i.style,u=this,a=6;setInterval(function(){if(!(t<a))return;t++,s.width=Math.ceil(r*t/a+n)+"px",o.width=Math.ceil(r*t/a+n)-u.imgW+"px"},10)},_popShow:function(e,t){function n(e){t.over(e)}function s(e){t.out(e)}i.all?(e.onmouseenter=function(e){n(r.event)},e.onmouseleave=s):(e.onmouseover=function(e){e.relatedTarget==null?n(e):this!==e.relatedTarget&&this.compareDocumentPosition(e.relatedTarget)!=20&&n(e)},e.onmouseout=function(e){e.relatedTarget==null?s(e):this!==e.relatedTarget&&this.compareDocumentPosition(e.relatedTarget)!=20&&s(e)})}}}(),S(),bdShare.fn.init()})();